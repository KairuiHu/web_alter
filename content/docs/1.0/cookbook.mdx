---
id: cookbook
title: API Cookbook
slug: /cookbook
---

This cookbook walks you through the essential Synvo API workflow in 3 simple steps: create an API key, upload a file, and query it with AI. Perfect for getting started quickly!

## Prerequisites

- Access to Synvo dashboard
- A document you want to upload (PDF, Word, text file, etc.)
- Basic familiarity with API calls

## Step 1: Create API Key

First, you need an API key to authenticate your requests.

### Using the Dashboard

1. Log into your [Synvo dashboard](https://console.synvo.ai)
2. Navigate to **API Keys** section
3. Click **"Create New Key"**
4. Give it a name (e.g., "My First API Key")
5. **Copy and save the key immediately** - you won't see it again!

### Using the API

If you already have a session token from the dashboard:

<Tabs items={["cURL", "Python", "JavaScript"]}>
  <Tab value="cURL">

```bash
curl -X POST "https://api.synvo.ai/user/api_keys/create" \
  -H "X-API-Key: YOUR_SESSION_TOKEN" \
  -H "Content-Type: application/x-www-form-urlencoded" \
  --data-urlencode "name=My First API Key"
```

  </Tab>
  <Tab value="Python">

```python
import requests

# Your session token from dashboard login
session_token = "your_session_token_here"

response = requests.post(
    "https://api.synvo.ai/user/api_keys/create",
    data={"name": "My First API Key"},
    headers={"X-API-Key": session_token}
)

result = response.json()
api_key = result["api_key"]
print(f"Your new API key: {api_key}")
# Save this key securely!
```

  </Tab>
  <Tab value="JavaScript">

```javascript
// Your session token from dashboard login
const sessionToken = "your_session_token_here";

const formData = new FormData();
formData.append("name", "My First API Key");

const response = await fetch("https://api.synvo.ai/user/api_keys/create", {
  method: "POST",
  headers: { "X-API-Key": sessionToken },
  body: formData
});

const result = await response.json();
console.log("Your new API key:", result.api_key);
// Save this key securely!
```

  </Tab>
</Tabs>

### Expected Output

```json
{
  "success": true,
  "key_id": "key_abc123xyz",
  "api_key": "sk_live_1234567890abcdef..."
}
```

:::warning Save Your API Key
The `api_key` field contains your actual API key. **Save it immediately** - you cannot retrieve it again!
:::

## Step 2: Upload a File

Now upload a document that you want to query with AI.

<Tabs items={["cURL", "Python", "JavaScript"]}>
  <Tab value="cURL">

```bash
# Replace YOUR_API_KEY with the key from Step 1
curl -X POST "https://api.synvo.ai/file/upload" \
  -H "X-API-Key: YOUR_API_KEY" \
  -F "file=@/path/to/your/document.pdf" \
  -F "path=/" \
  -F "build_memory=true"
```

  </Tab>
  <Tab value="Python">

```python
import requests

# Your API key from Step 1
api_key = "sk_live_1234567890abcdef..."

# Upload your file
with open("/path/to/your/document.pdf", "rb") as f:
    files = {"file": f}
    data = {
        "path": "/",
        "build_memory": "true"  # This enables AI querying
    }
    
    response = requests.post(
        "https://api.synvo.ai/file/upload",
        files=files,
        data=data,
        headers={"X-API-Key": api_key},
        timeout=60
    )

result = response.json()
file_id = result["file_id"]
print(f"File uploaded! ID: {file_id}")
```

  </Tab>
  <Tab value="JavaScript">

```javascript
// Your API key from Step 1
const apiKey = "sk_live_1234567890abcdef...";

// Get file from input element
const fileInput = document.querySelector('input[type="file"]');
const file = fileInput.files[0];

const formData = new FormData();
formData.append("file", file);
formData.append("path", "/");
formData.append("build_memory", "true"); // This enables AI querying

const response = await fetch("https://api.synvo.ai/file/upload", {
  method: "POST",
  headers: { "X-API-Key": apiKey },
  body: formData
});

const result = await response.json();
console.log("File uploaded! ID:", result.file_id);
```

  </Tab>
</Tabs>

### Expected Output

```json
{
  "filename": "document.pdf",
  "path": "/",
  "renamed": false,
  "file_id": "abc123xyz",
  "timestamp": "2024-01-15T10:30:00Z"
}
```

### Wait for Processing

Your file needs to be processed before you can query it. Check the status:

<Tabs items={["cURL", "Python", "JavaScript"]}>
  <Tab value="cURL">

```bash
curl -X GET "https://api.synvo.ai/file/status/abc123xyz" \
  -H "X-API-Key: YOUR_API_KEY"
```

  </Tab>
  <Tab value="Python">

```python
import time

def wait_for_processing(api_key, file_id, max_wait=300):
    """Wait for file to finish processing"""
    start_time = time.time()
    
    while time.time() - start_time < max_wait:
        response = requests.get(
            f"https://api.synvo.ai/file/status/{file_id}",
            headers={"X-API-Key": api_key}
        )
        
        status = response.json()["status"]
        print(f"Status: {status}")
        
        if status == "COMPLETED":
            print("✅ File ready for querying!")
            return True
        elif status == "FAILED":
            print("❌ File processing failed")
            return False
        
        time.sleep(10)  # Wait 10 seconds before checking again
    
    print("⏰ Timeout waiting for processing")
    return False

# Wait for your file to be ready
wait_for_processing(api_key, file_id)
```

  </Tab>
  <Tab value="JavaScript">

```javascript
async function waitForProcessing(apiKey, fileId, maxWait = 300000) {
  const startTime = Date.now();
  
  while (Date.now() - startTime < maxWait) {
    const response = await fetch(`https://api.synvo.ai/file/status/${fileId}`, {
      headers: { "X-API-Key": apiKey }
    });
    
    const result = await response.json();
    console.log("Status:", result.status);
    
    if (result.status === "COMPLETED") {
      console.log("✅ File ready for querying!");
      return true;
    } else if (result.status === "FAILED") {
      console.log("❌ File processing failed");
      return false;
    }
    
    await new Promise(resolve => setTimeout(resolve, 10000)); // Wait 10 seconds
  }
  
  console.log("⏰ Timeout waiting for processing");
  return false;
}

// Wait for your file to be ready
await waitForProcessing(apiKey, fileId);
```

  </Tab>
</Tabs>

### Expected Status Response

```json
{
  "file_id": "abc123xyz",
  "status": "COMPLETED"
}
```

## Step 3: Query Your File with AI

Now you can ask questions about your uploaded document!

<Tabs items={["cURL", "Python", "JavaScript"]}>
  <Tab value="cURL">

```bash
curl -X POST "https://api.synvo.ai/ai/query" \
  -H "X-API-Key: YOUR_API_KEY" \
  -F 'payload={"messages":[{"role":"user","content":[{"type":"text","text":"What are the main points in this document?"},{"type":"file","file_id":"abc123xyz"}]}]}' \
  -F "model=synvo" \
  -F "force_search=true"
```

  </Tab>
  <Tab value="Python">

```python
import json

# Ask a question about your document
def query_document(api_key, file_id, question):
    payload = {
        "messages": [
            {
                "role": "user",
                "content": [
                    {"type": "text", "text": question},
                    {"type": "file", "file_id": file_id}
                ]
            }
        ]
    }
    
    data = {
        "payload": json.dumps(payload),
        "model": "synvo",
        "force_search": "true"  # Ensure it searches your file
    }
    
    response = requests.post(
        "https://api.synvo.ai/ai/query",
        data=data,
        headers={"X-API-Key": api_key},
        timeout=60
    )
    
    result = response.json()
    return result["response"]["content"][0]["text"]

# Ask your question
question = "What are the main points in this document?"
answer = query_document(api_key, file_id, question)
print(f"Q: {question}")
print(f"A: {answer}")
```

  </Tab>
  <Tab value="JavaScript">

```javascript
async function queryDocument(apiKey, fileId, question) {
  const payload = {
    messages: [
      {
        role: "user",
        content: [
          { type: "text", text: question },
          { type: "file", file_id: fileId }
        ]
      }
    ]
  };
  
  const formData = new FormData();
  formData.append("payload", JSON.stringify(payload));
  formData.append("model", "synvo");
  formData.append("force_search", "true"); // Ensure it searches your file
  
  const response = await fetch("https://api.synvo.ai/ai/query", {
    method: "POST",
    headers: { "X-API-Key": apiKey },
    body: formData
  });
  
  const result = await response.json();
  return result.response.content[0].text;
}

// Ask your question
const question = "What are the main points in this document?";
const answer = await queryDocument(apiKey, fileId, question);
console.log(`Q: ${question}`);
console.log(`A: ${answer}`);
```

  </Tab>
</Tabs>

### Expected Output

```json
{
  "success": true,
  "response": {
    "role": "assistant",
    "content": [
      {
        "type": "text",
        "text": "Based on the document you uploaded, here are the main points:\n\n1. **Revenue Growth**: The company achieved 15% revenue growth in Q4 2023\n2. **Operational Efficiency**: Improved processes across all business units\n3. **Market Performance**: Strong performance in key market segments\n4. **Future Projections**: Optimistic outlook for the next quarter\n\nThe document shows positive trends across all major business metrics."
      }
    ],
    "cuid": "msg_def456uvw",
    "created_at": "2024-01-15T10:35:00Z"
  },
  "suid": "sess_ghi789rst",
  "summary": "Document analysis query",
  "timestamp": "2024-01-15T10:35:00Z"
}
```

## Complete Example

Here's a complete script that does all three steps:

<Tabs items={["Python", "JavaScript"]}>
  <Tab value="Python">

```python
import requests
import json
import time
import os

class SynvoQuickStart:
    def __init__(self, session_token=None):
        self.session_token = session_token
        self.api_key = None
        self.base_url = "https://api.synvo.ai"
    
    def create_api_key(self, name="Cookbook API Key"):
        """Step 1: Create API Key"""
        print("🔑 Creating API key...")
        
        response = requests.post(
            f"{self.base_url}/user/api_keys/create",
            data={"name": name},
            headers={"X-API-Key": self.session_token}
        )
        
        result = response.json()
        self.api_key = result["api_key"]
        
        print(f"✅ API key created: {self.api_key[:20]}...")
        return self.api_key
    
    def upload_file(self, file_path):
        """Step 2: Upload File"""
        print(f"📁 Uploading file: {file_path}")
        
        with open(file_path, "rb") as f:
            files = {"file": f}
            data = {
                "path": "/",
                "build_memory": "true"
            }
            
            response = requests.post(
                f"{self.base_url}/file/upload",
                files=files,
                data=data,
                headers={"X-API-Key": self.api_key},
                timeout=60
            )
        
        result = response.json()
        file_id = result["file_id"]
        
        print(f"✅ File uploaded: {file_id}")
        
        # Wait for processing
        print("⏳ Waiting for processing...")
        if self.wait_for_processing(file_id):
            print("✅ File ready!")
            return file_id
        else:
            raise Exception("File processing failed or timed out")
    
    def wait_for_processing(self, file_id, max_wait=300):
        """Wait for file processing to complete"""
        start_time = time.time()
        
        while time.time() - start_time < max_wait:
            response = requests.get(
                f"{self.base_url}/file/status/{file_id}",
                headers={"X-API-Key": self.api_key}
            )
            
            status = response.json()["status"]
            
            if status == "COMPLETED":
                return True
            elif status == "FAILED":
                return False
            
            time.sleep(10)
        
        return False
    
    def query_document(self, file_id, question):
        """Step 3: Query Document"""
        print(f"🤖 Asking: {question}")
        
        payload = {
            "messages": [
                {
                    "role": "user",
                    "content": [
                        {"type": "text", "text": question},
                        {"type": "file", "file_id": file_id}
                    ]
                }
            ]
        }
        
        data = {
            "payload": json.dumps(payload),
            "model": "synvo",
            "force_search": "true"
        }
        
        response = requests.post(
            f"{self.base_url}/ai/query",
            data=data,
            headers={"X-API-Key": self.api_key},
            timeout=60
        )
        
        result = response.json()
        answer = result["response"]["content"][0]["text"]
        
        print(f"💡 Answer: {answer}")
        return answer

# Usage Example
def main():
    # Initialize with your session token from dashboard
    session_token = os.getenv("SYNVO_SESSION_TOKEN")  # Set this environment variable
    synvo = SynvoQuickStart(session_token)
    
    try:
        # Step 1: Create API key
        api_key = synvo.create_api_key()
        
        # Step 2: Upload file
        file_path = "/path/to/your/document.pdf"  # Change this path
        file_id = synvo.upload_file(file_path)
        
        # Step 3: Query the document
        questions = [
            "What are the main points in this document?",
            "Can you summarize the key findings?"
        ]
        
        for question in questions:
            answer = synvo.query_document(file_id, question)
            print("\n" + "="*50 + "\n")
        
        print("🎉 Cookbook complete! You've successfully:")
        print("   1. ✅ Created an API key")
        print("   2. ✅ Uploaded a file")
        print("   3. ✅ Queried it with AI")
        
    except Exception as e:
        print(f"❌ Error: {e}")

if __name__ == "__main__":
    main()
```

  </Tab>
  <Tab value="JavaScript">

```javascript
class SynvoQuickStart {
  constructor(sessionToken) {
    this.sessionToken = sessionToken;
    this.apiKey = null;
    this.baseUrl = "https://api.synvo.ai";
  }
  
  async createApiKey(name = "Cookbook API Key") {
    console.log("🔑 Creating API key...");
    
    const formData = new FormData();
    formData.append("name", name);
    
    const response = await fetch(`${this.baseUrl}/user/api_keys/create`, {
      method: "POST",
      headers: { "X-API-Key": this.sessionToken },
      body: formData
    });
    
    const result = await response.json();
    this.apiKey = result.api_key;
    
    console.log(`✅ API key created: ${this.apiKey.substring(0, 20)}...`);
    return this.apiKey;
  }
  
  async uploadFile(file) {
    console.log(`📁 Uploading file: ${file.name}`);
    
    const formData = new FormData();
    formData.append("file", file);
    formData.append("path", "/");
    formData.append("build_memory", "true");
    
    const response = await fetch(`${this.baseUrl}/file/upload`, {
      method: "POST",
      headers: { "X-API-Key": this.apiKey },
      body: formData
    });
    
    const result = await response.json();
    const fileId = result.file_id;
    
    console.log(`✅ File uploaded: ${fileId}`);
    
    // Wait for processing
    console.log("⏳ Waiting for processing...");
    const ready = await this.waitForProcessing(fileId);
    
    if (ready) {
      console.log("✅ File ready!");
      return fileId;
    } else {
      throw new Error("File processing failed or timed out");
    }
  }
  
  async waitForProcessing(fileId, maxWait = 300000) {
    const startTime = Date.now();
    
    while (Date.now() - startTime < maxWait) {
      const response = await fetch(`${this.baseUrl}/file/status/${fileId}`, {
        headers: { "X-API-Key": this.apiKey }
      });
      
      const result = await response.json();
      
      if (result.status === "COMPLETED") return true;
      if (result.status === "FAILED") return false;
      
      await new Promise(resolve => setTimeout(resolve, 10000));
    }
    
    return false;
  }
  
  async queryDocument(fileId, question) {
    console.log(`🤖 Asking: ${question}`);
    
    const payload = {
      messages: [
        {
          role: "user",
          content: [
            { type: "text", text: question },
            { type: "file", file_id: fileId }
          ]
        }
      ]
    };
    
    const formData = new FormData();
    formData.append("payload", JSON.stringify(payload));
    formData.append("model", "synvo");
    formData.append("force_search", "true");
    
    const response = await fetch(`${this.baseUrl}/ai/query`, {
      method: "POST",
      headers: { "X-API-Key": this.apiKey },
      body: formData
    });
    
    const result = await response.json();
    const answer = result.response.content[0].text;
    
    console.log(`💡 Answer: ${answer}`);
    return answer;
  }
}

// Usage Example
async function main() {
  // Get session token from environment or input
  const sessionToken = process.env.SYNVO_SESSION_TOKEN;
  const synvo = new SynvoQuickStart(sessionToken);
  
  try {
    // Step 1: Create API key
    await synvo.createApiKey();
    
    // Step 2: Upload file (assumes file input element)
    const fileInput = document.querySelector('input[type="file"]');
    const file = fileInput.files[0];
    const fileId = await synvo.uploadFile(file);
    
    // Step 3: Query the document
    const questions = [
      "What are the main points in this document?",
      "Can you summarize the key findings?"
    ];
    
    for (const question of questions) {
      await synvo.queryDocument(fileId, question);
      console.log("\n" + "=".repeat(50) + "\n");
    }
    
    console.log("🎉 Cookbook complete! You've successfully:");
    console.log("   1. ✅ Created an API key");
    console.log("   2. ✅ Uploaded a file");
    console.log("   3. ✅ Queried it with AI");
    
  } catch (error) {
    console.log(`❌ Error: ${error.message}`);
  }
}

// Run the example
main();
```

  </Tab>
</Tabs>

## Environment Setup

### Environment Variables

Create a `.env` file for your credentials:

```bash
# .env file
SYNVO_SESSION_TOKEN=your_dashboard_session_token_here
SYNVO_API_KEY=sk_live_your_created_api_key_here
```

### Python Requirements

```bash
pip install requests
```

### JavaScript/Node.js

```bash
npm install node-fetch  # If using Node.js
```

## What's Next?

Now that you've completed the basic workflow, explore more advanced features:

1. **[API Keys & Authentication](/synvo-api/api-keys)** - Manage your API keys
2. **[File Metadata](/synvo-api/file-metadata)** - Extract rich information from files
3. **[Session History](/synvo-api/session-history)** - Manage conversation history
4. **[Advanced Querying](/synvo-api/query-retrieval)** - Streaming, web search, and more

## Troubleshooting

### Common Issues

**File Upload Fails**
- Check file size limits (usually 100MB max)
- Ensure file format is supported
- Verify API key is correct

**Processing Takes Too Long**
- Large files take longer to process
- PDF files with images may need OCR
- Check file status periodically

**Query Returns Generic Response**
- Make sure `force_search=true` is set
- Verify file processing is completed
- Include file reference in your query

**Authentication Errors**
- Double-check your API key
- Ensure key hasn't been revoked
- Try creating a new API key

---

**🎉 Congratulations!** You've successfully completed the Synvo API cookbook. You can now upload documents and query them with AI. This opens up possibilities for document analysis, content extraction, Q&A systems, and much more!
